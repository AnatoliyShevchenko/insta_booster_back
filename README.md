# insta_booster_back
Backend for instagram booster

# Описание:
Сервис по накрутке просмотров/лайков/комментариев в запрещенограме.
Не судите строго, я зарегался в нем в тот же день как начал работу, то есть сегодня.
Используются технологии:
- FastAPI - тут есть интерактивная документация по адресу:
    - http://185.129.51.15:8050/docs весь функционал можно проверить.
- PostgreSQL
- Redis
- Apscheduler, можно было конечно celery но этот попроще а у меня мало времени
- Docker
---
Приложение и планировщик запущены в разных потоках.

# Накрутка работает так:
- загружаем в апи файл с учетками на api/v1/bots/, учетки сохраняются в базу данных. в интерактивной документации я указал формат и структуру документа.
- api/v1/actions/create/ создаем заявку на накрутку, она тоже сохраняется в базу данных.
- через 10 секунд после создания заявки, она попадает в планировщик задач который находится в параллельном потоке и сервер не блокируется.
- в фоновом режиме запускается браузер для каждого бота со своим прокси, происходит авторизация и нужные действия.

# Перед запуском:
### Для работы бустера необходимо установить браузер Тор, будем проксировать каждого пользователя:
- sudo apt install tor
### далее, надо придумать пароль который мы запишем в .env файл и захэшировать его:
- tor --hash-password YOUR_PASSWORD
### Открываем файл конфигурации Тор:
- sudo nano /etc/tor/torrc
### Раскомментируем или дописываем:
- ControlPort 9051
- HashedControlPassword 16:YOUR_HASHED_PASSWORD
- CookieAuthentication 1

### Запускаем тор: 
- sudo service tor start
- Возможно сервис надо будет перезапустить, надо будет проверить прослушивается ли порт.

### Установка Хрома:
- wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
- sudo apt install ./google-chrome-stable_current_amd64.deb

### Проект использует базы данных PostgreSQL и Redis, у меня на сервере они установлены нативно, поэтому в докер композ их пихать не будем.
нужно будет создать базу данных в Postgres и имя поместить в файл .env

### Клонируем репозиторий, создаем в корневой директории файл .env, там должны быть следующие данные:
    - DB_NAME = "название базы данных"
    - DB_USER = "имя пользователя"
    - DB_PASS = "пароль пользователя"
    - DB_HOST = "127.0.0.1"
    - DB_PORT = "5432"
    - TOR_PASSWORD = "пароль браузера Тор не хэшированный"

# В принципе все готово, сам проект развернем в контейнере.
- docker compose up

---
# Описание директорий:
- volume - директория для хранения временных файлов.
- src - исходный код проекта и его модулей:
    - директория migrations содержит конфигурации миграций.
    - [SETTINGS.md](src/settings/SETTINGS.md): директория settings.
    - [APPS.md](src/apps/APPS.md): директория apps.
